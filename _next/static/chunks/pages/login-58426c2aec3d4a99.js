(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{6429:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(7644)}])},2712:function(e,s,a){"use strict";a.d(s,{W:function(){return i}});var n=a(3920),r=a(6840);let t=r.Z.apiURL,i=(0,n.ZP)(t)},7644:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return Home}});var n=a(5893);a(4460);var r=a(1664),t=a.n(r),i=a(7294),l=a(42),c=a(4057),o=a(2175),d=a(1163),m=a(2712),u=a(6310),h=a(8239);function Home(){let[e,s]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1),[g,x]=(0,i.useState)(!1),[j,p]=(0,i.useState)(!1),[f,N]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),[b,_]=(0,i.useState)(""),[S,y]=(0,i.useState)(""),[C,Z]=(0,i.useState)(""),k=(0,d.useRouter)(),[R,T]=(0,i.useReducer)((e,s)=>({...e,...s}),{data:""}),U=(0,o.TA)({enableReinitialize:!0,initialValues:{username:"",password:"",user_device_id:""},validationSchema:u.Ry({username:u.Z_().required("กรุณาระบุ username"),password:u.Z_().required("กรุณาระบุ password")}),onSubmit:e=>{var s=window.navigator;window.screen;var a=s.mimeTypes.length;e.user_device_id=a,c.Z.login(e).then(async s=>{if(s.data.success){m.W.emit("leave_room2",e);let a={token:s.data.token,userInfo:s.data.user};(0,l.YR)(a),N(!0),_(s.data.message),"verificationUser"==s.data.redirect?k.push("/verificationUser"):setTimeout(function(){k.push("/member")},2500)}else p(!0),y(s.data.message),setTimeout(function(){p(!1),y(""),k.push("/member")},2500)}).catch(function(e){})}});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"tf-section-2 pt-60 widget-box-icon bglogin",children:(0,n.jsx)("div",{className:"themesflat-container w920",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-12"}),(0,n.jsx)("div",{className:"col-12 ",children:(0,n.jsxs)("div",{className:"widget-login maginlogin",children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12 text-center",children:(0,n.jsx)("img",{src:"/assets/images/loginbg.png",alt:""})})}),(0,n.jsxs)("form",{onSubmit:e=>(e.preventDefault(),U.handleSubmit(),!1),id:"commentform",className:"comment-form",children:[(0,n.jsxs)("fieldset",{className:"Username",children:[b&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(h.Z,{className:"alert fade show alert-dismissible alert-solid-success",color:"",variant:"success",children:(0,n.jsxs)("h5",{className:"text-center my-5",children:[" ",b]})})," "]})})," ",S&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(h.Z,{className:"alert fade show alert-dismissible alert-solid-danger",color:"",variant:"danger",children:(0,n.jsxs)("h5",{className:"text-center my-5",children:[" ",S]})})," "]}),(0,n.jsx)("h4",{className:"my-2",children:"* Username "}),(0,n.jsx)("input",{type:"text",id:"text",placeholder:"Username",className:"form-control",name:"username",onChange:U.handleChange,onBlur:U.handleChange,value:U.values.username}),U.touched.username&&U.errors.username&&(0,n.jsx)("p",{className:"text-danger",children:U.errors.username})]}),(0,n.jsxs)("fieldset",{className:"password",children:[(0,n.jsx)("h4",{className:"my-2",children:"Password *"}),(0,n.jsx)("input",{className:"password-input",type:"password",id:"password",placeholder:"Min. 8 character",name:"password",onChange:U.handleChange,onBlur:U.handleChange,value:U.values.password}),U.touched.username&&U.errors.username&&(0,n.jsx)("p",{className:"text-danger",children:U.errors.password}),(0,n.jsx)("div",{className:"forget-password",children:(0,n.jsx)(t(),{href:"#",children:"Forget password"})})]}),(0,n.jsx)("div",{className:"btn-submit mb-30",children:(0,n.jsxs)("button",{className:"tf-button style-1 h50 w-100",type:"submit",children:["Login",(0,n.jsx)("i",{className:"icon-arrow-up-right2"})]})})]}),(0,n.jsx)("div",{className:"other",children:"or continue"}),(0,n.jsx)("div",{className:"login-other",children:(0,n.jsxs)(t(),{href:"#",className:"login-other-item",children:[(0,n.jsx)("img",{src:"/assets/images/google.png",alt:""}),(0,n.jsx)("span",{children:"Sign with google"})]})}),(0,n.jsxs)("div",{className:"no-account",children:["Don't have an account? ",(0,n.jsx)("a",{href:"/sign-up",children:"สมัคร สมาชิก"})]})]})})]})})})})}}},function(e){e.O(0,[1664,5121,3129,8239,2175,3920,4460,9774,2888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);